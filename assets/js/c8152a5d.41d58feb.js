"use strict";(self.webpackChunk_orca_so_whirlpools_docs=self.webpackChunk_orca_so_whirlpools_docs||[]).push([[7500],{95:(e,n,t)=>{t.d(n,{A:()=>k});var r=t(4041),s=t(4357),o=t(5245),i=t(6090),a=t(3190),l=t(838),c=t(6423),u=t(6326);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:s}}=e;return{value:n,label:t,attributes:r,default:s}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const s=(0,i.W6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(s.location.search);n.set(o,e),s.replace({...s.location,search:n.toString()})}),[o,s])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,o=p(e),[i,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:o}))),[c,d]=m({queryString:t,groupId:s}),[f,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,o]=(0,u.Dv)(t);return[s,(0,r.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:s}),x=(()=>{const e=c??f;return h({value:e,tabValues:o})?e:null})();(0,a.A)((()=>{x&&l(x)}),[x]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,o]),tabValues:o}}var g=t(1310);const x={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};var b=t(1085);function _(e){let{className:n,block:t,selectedValue:r,selectValue:i,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),s=a[t].value;s!==r&&(c(n),i(s))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...o,className:(0,s.A)("tabs__item",x.tabItem,o?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:o}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function j(e){const n=f(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,b.jsx)(_,{...n,...e}),(0,b.jsx)(v,{...n,...e})]})}function k(e){const n=(0,g.A)();return(0,b.jsx)(j,{...e,children:d(e.children)},String(n))}},1184:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var r=t(4041);const s={},o=r.createContext(s);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:n},e.children)}},4435:(e,n,t)=>{t.d(n,{A:()=>i});t(4041);var r=t(4357);const s={tabItem:"tabItem_OMyP"};var o=t(1085);function i(e){let{children:n,hidden:t,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,i),hidden:t,children:n})}},6578:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Whirlpools SDKs/Whirlpools Core","title":"Orca Whirlpools Core SDK","description":"This package provides developers with advanced functionalities for interacting with the Whirlpool Program on Solana. Originally written in Rust, it has been compiled to WebAssembly (Wasm). This compilation makes the SDK accessible in JavaScript/TypeScript environments, offering developers the same core features and calculations for their Typescript projects. The SDK exposes convenient methods for math calculations, quotes, and other utilities, enabling seamless integration within web-based projects.","source":"@site/docs/03-Whirlpools SDKs/02-Whirlpools Core.mdx","sourceDirName":"03-Whirlpools SDKs","slug":"/Whirlpools SDKs/Whirlpools Core","permalink":"/Whirlpools SDKs/Whirlpools Core","draft":false,"unlisted":false,"editUrl":"https://github.com/orca-so/whirlpools/tree/main/docs/whirlpool/docs/03-Whirlpools SDKs/02-Whirlpools Core.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"Whirlpools Core"},"sidebar":"sidebar","previous":{"title":"Send Transactions","permalink":"/Whirlpools SDKs/Whirlpools/Send Transaction"},"next":{"title":"Whirlpools Client","permalink":"/Whirlpools SDKs/Whirlpools Client"}}');var s=t(1085),o=t(1184),i=t(95),a=t(4435);const l={sidebar_label:"Whirlpools Core"},c="Orca Whirlpools Core SDK",u={},d=[{value:"Key Features",id:"key-features",level:2},{value:"Installation:",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Math Example",id:"math-example",level:3},{value:"Quote Example",id:"quote-example",level:3}];function p(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"orca-whirlpools-core-sdk",children:"Orca Whirlpools Core SDK"})}),"\n",(0,s.jsx)(n.p,{children:"This package provides developers with advanced functionalities for interacting with the Whirlpool Program on Solana. Originally written in Rust, it has been compiled to WebAssembly (Wasm). This compilation makes the SDK accessible in JavaScript/TypeScript environments, offering developers the same core features and calculations for their Typescript projects. The SDK exposes convenient methods for math calculations, quotes, and other utilities, enabling seamless integration within web-based projects."}),"\n",(0,s.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Math Library"}),": Contains a variety of functions for math operations related to bundles, positions, prices, ticks, and tokens, including calculations such as determining position status or price conversions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Quote Library"}),": Provides utility functions for generating quotes, such as increasing liquidity, collecting fees or rewards, and swapping, to help developers make informed decisions regarding liquidity management."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation:"}),"\n",(0,s.jsxs)(i.A,{groupId:"programming-languages",children:[(0,s.jsx)(a.A,{value:"ts",label:"Typescript",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install @orca-so/whirlpools-core\n"})})}),(0,s.jsx)(a.A,{value:"rust",label:"Rust",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cargo add orca_whirlpools_core\n"})})})]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.p,{children:"Here are some basic examples of how to use the package:"}),"\n",(0,s.jsx)(n.h3,{id:"math-example",children:"Math Example"}),"\n",(0,s.jsxs)(n.p,{children:["The following example demonstrates how to use the ",(0,s.jsx)(n.code,{children:"isPositionInRange"})," function to determine whether a position is currently in range."]}),"\n",(0,s.jsxs)(i.A,{groupId:"programming-languages",children:[(0,s.jsxs)(a.A,{value:"ts",label:"Typescript",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { isPositionInRange } from "@orca-so/whirlpools-core";\n\nconst currentSqrtPrice = 7448043534253661173n;\nconst tickIndex1 = -18304;\nconst tickIndex2 = -17956;\n\nconst inRange = isPositionInRange(currentSqrtPrice, tickIndex1, tickIndex2);\nconsole.log("Position in range:", inRange);\n'})}),(0,s.jsx)(n.p,{children:"Expected output:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Position in range? true\n"})})]}),(0,s.jsxs)(a.A,{value:"rust",label:"Rust",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'use orca_whirlpools_core::is_position_in_range;\n\nfn main() {\n    let current_sqrt_price = 7448043534253661173u128;\n    let tick_index_1 = -18304;\n    let tick_index_2 = -17956;\n\n    let in_range = is_position_in_range(current_sqrt_price.into(), tick_index_1, tick_index_2);\n    println!("Position in range? {:?}", in_range);\n}\n'})}),(0,s.jsx)(n.p,{children:"Expected output:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Position in range? true\n"})})]})]}),"\n",(0,s.jsx)(n.h3,{id:"quote-example",children:"Quote Example"}),"\n",(0,s.jsxs)(n.p,{children:["The following example demonstrates how to use the ",(0,s.jsx)(n.code,{children:"increaseLiquidityQuoteA"})," function to calculate a quote for increasing liquidity given a token A amount."]}),"\n",(0,s.jsxs)(i.A,{groupId:"programming-languages",children:[(0,s.jsxs)(a.A,{value:"ts",label:"Typescript",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { increaseLiquidityQuoteA } from "@orca-so/whirlpools-core";\n\nconst tokenAmountA = 1000000000n;\nconst slippageToleranceBps = 100;\nconst currentSqrtPrice = 7437568627975669726n;\nconst tickIndex1 = -18568;\nconst tickIndex2 = -17668;\nconst transferFeeA = { feeBps: 200, maxFee: 1000000000n };\n\nconst quote = increaseLiquidityQuoteA(\ntokenAmountA,\nslippageToleranceBps,\ncurrentSqrtPrice,\ntickIndex1,\ntickIndex2,\ntransferFeeA,\n);\n\nconsole.log(quote);\n'})}),(0,s.jsx)(n.p,{children:"Expected output:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{\n    liquidityDelta: 16011047470n,\n    tokenEstA: 1000000000n,\n    tokenEstB: 127889169n,\n    tokenMaxA: 1010000000n,\n    tokenMaxB: 129168061n\n}\n"})})]}),(0,s.jsxs)(a.A,{value:"rust",label:"Rust",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'use orca_whirlpools_core::increase_liquidity_quote_a;\nuse orca_whirlpools_core::TransferFee;\n\nfn main() {\n    let token_amount_a = 1000000000u64;\n    let slippage_tolerance_bps = 100u16;\n    let current_sqrt_price = 7437568627975669726u128;\n    let tick_index_1 = -18568;\n    let tick_index_2 = -17668;\n    let transfer_fee_a = Some(TransferFee::new(200));\n    let transfer_fee_b = None;\n\n    let quote = increase_liquidity_quote_a(\n        token_amount_a,\n        slippage_tolerance_bps,\n        current_sqrt_price.into(),\n        tick_index_1,\n        tick_index_2,\n        transfer_fee_a,\n        transfer_fee_b,\n    ).unwrap();\n    \n    println!("{:?}", quote);\n}\n'})}),(0,s.jsx)(n.p,{children:"Expected output:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"IncreaseLiquidityQuote {\n    liquidity_delta: 16011047470,\n    token_est_a: 1000000000,\n    token_est_b: 127889169,\n    token_max_a: 1010000000,\n    token_max_b: 129168061,\n}\n"})})]})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);